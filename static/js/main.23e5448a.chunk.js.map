{"version":3,"sources":["component/Navbar.jsx","component/About.jsx","store/actions.jsx","component/Forum/Forum.jsx","component/Forum/Discussion.jsx","component/Forum/_ForumRouter.jsx","component/Sing.jsx","component/Logout.jsx","store/reducer.jsx","App.js","reportWebVitals.js","index.js"],"names":["Navbar","links","_","chunk","left","rigth","className","Side","map","link","to","upperFirst","About","name","useContext","AppContext","getForum","forum","type","info","payload","Forum","history","useState","title","setTitel","body","setBody","dispatch","style","border","width","length","index","user","date","_id","onClick","push","action","htmlFor","id","value","onChange","target","cols","rows","toast","warn","axios","defaults","headers","common","localStorage","getItem","post","apiUrl","then","data","catch","console","log","Discussion","pathname","location","setValue","discussion","split","pop","comments","ForumRouter","exact","component","Sign","useMemo","page","slice","isSingUp","initialValues","email","password","validationSchema","yup","required","label","onSubmit","fields","token","massage","setItem","signUp","response","warning","formikProp","Head","keys","err","Logout","removeItem","initialState","loading","reducer","state","Error","React","createContext","App","useReducer","useEffect","get","signin","signup","Provider","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.23e5448a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nexport default function Navbar({ links }) {\r\n  const [left, rigth] = _.chunk(links, 2);\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light shadow-sm d-flex justify-content-between\">\r\n      <Side links={left} />\r\n      <Side links={rigth} />\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction Side({ links }) {\r\n  return (\r\n    <div className={`d-inline-flex p-2`}>\r\n      {links.map((link) => (\r\n        <NavLink key={link} className=\"nav-link\" to={\"/\" + link}>\r\n          {_.upperFirst(link || \"about\")}\r\n        </NavLink>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../App\";\r\n\r\nexport default function About() {\r\n  const { name } = useContext(AppContext);\r\n  return (\r\n    <section className=\"container\">\r\n      <h1>Hello {name}</h1>\r\n      <div>\r\n        welcom to my forum. in this side, after you sing up you can talk to\r\n        other users\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","export const sendRequest = () => ({\r\n  type: \"SEND REQUEST\",\r\n  info: \"set loading to true\",\r\n});\r\n\r\nexport const signUp = (name) => ({\r\n  type: \"SIGN UP\",\r\n  info: \"set the user name\",\r\n  payload: name,\r\n});\r\n\r\nexport const error = () => ({\r\n  type: \"ERROR\",\r\n  info: \"set loading to false\",\r\n});\r\n\r\nexport const getForum = (forum) => ({\r\n  type: \"GET FORUM\",\r\n  info: \"get forum\",\r\n  payload: forum,\r\n});\r\n\r\nexport const logOut = () => ({\r\n  type: \"LOG OUT\",\r\n  info: \"set 'name' to null\",\r\n});\r\n","import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getForum, sendRequest } from \"../../store/actions\";\r\nimport { apiUrl } from \"../../config.json\";\r\n\r\nimport { AppContext } from \"../../App\";\r\n\r\nexport default function Forum({ history }) {\r\n  const [title, setTitel] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const { forum, name, dispatch } = useContext(AppContext);\r\n  return (\r\n    <div className=\"container\">\r\n      <h1 className=\"text-center\">Forum</h1>\r\n      <table className=\"container\" style={{ border: \"1px solid black\" }}>\r\n        <thead style={{ border: \"1px solid black\" }}>\r\n          <tr>\r\n            <th style={{ width: \"10%\" }}>User</th>\r\n            <th style={{ width: \"70%\" }}>Title</th>\r\n            <th>Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {forum?.length ? (\r\n            forum.map(({ user, title, date, _id }, index) => (\r\n              <tr\r\n                key={_id}\r\n                className={`bg-${\r\n                  index % 2 ? \"primary\" : \"secondary\"\r\n                } text-white`}\r\n                onClick={() => history.push(`/Forum/${index}`)}\r\n              >\r\n                <td>{user}</td>\r\n                <td>{title}</td>\r\n                <td>{date}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <h4>No Post In The Forum</h4>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n      {name && (\r\n        <form action=\"\">\r\n          <h3>Add Discussion:</h3>\r\n          <label htmlFor=\"titel\">Titel:</label>\r\n          <br />\r\n          <input\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            name=\"titel\"\r\n            id=\"titel\"\r\n            value={title}\r\n            onChange={({ target: { value } }) => setTitel(value)}\r\n          />\r\n          <br />\r\n          <label htmlFor=\"body\">body:</label>\r\n          <br />\r\n          <textarea\r\n            className=\"form-control\"\r\n            name=\"body\"\r\n            id=\"body\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n            value={body}\r\n            onChange={({ target: { value } }) => setBody(value)}\r\n          ></textarea>\r\n          <button\r\n            className=\"btn btn-primary mt-2\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              if (!title || !body) {\r\n                return toast.warn(`you can't send empty title or body`);\r\n              }\r\n              axios.defaults.headers.common[\r\n                \"x-auth-token\"\r\n              ] = localStorage.getItem(\"token\");\r\n              dispatch(sendRequest());\r\n              axios\r\n                .post(`${apiUrl}/forum/discussion`, { title, body })\r\n                .then(({ data }) => {\r\n                  dispatch(getForum(data));\r\n                  setTitel(\"\");\r\n                  setBody(\"\");\r\n                })\r\n                .catch(({ data }) => {\r\n                  console.log(data);\r\n                  toast.warn(data);\r\n                });\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport { getForum } from \"../../store/actions\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AppContext } from \"../../App\";\r\nimport { apiUrl } from \"../../config.json\";\r\n\r\nexport default function Discussion({ location: { pathname } }) {\r\n  const [value, setValue] = useState();\r\n  const { forum, dispatch } = useContext(AppContext) ?? {};\r\n  if (!forum) return <Redirect to=\"/Forum\" />;\r\n  const discussion = forum[pathname.split(\"/\").pop()];\r\n  if (!discussion) return <Redirect to=\"/Forum\" />;\r\n  const { title, user, date, body, comments, _id } = discussion;\r\n  return (\r\n    <section className=\"container\">\r\n      {\" \"}\r\n      <header>\r\n        <h1>{title}</h1>\r\n      </header>\r\n      <main>\r\n        <div>{body}</div>\r\n      </main>\r\n      <footer>\r\n        <form action=\"\" className=\"m-2\">\r\n          <label htmlFor=\"comment\">\r\n            <h3 className=\"mb-1\">add comment:</h3>\r\n          </label>\r\n          <textarea\r\n            className=\"form-control mb-3\"\r\n            name=\"comment\"\r\n            value={value}\r\n            onChange={({ target: { value } }) => setValue(value)}\r\n          />\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            type=\"button\"\r\n            onClick={() => {\r\n              axios.defaults.headers.common[\r\n                \"x-auth-token\"\r\n              ] = localStorage.getItem(\"token\");\r\n              axios\r\n                .post(`${apiUrl}/forum/comment`, {\r\n                  body: value,\r\n                  id: _id,\r\n                })\r\n                .then(({ data }) => {\r\n                  dispatch(getForum(data));\r\n                  setValue(\"\");\r\n                })\r\n                .catch(({ data }) => toast.warn(data ?? \"unexpected error\"));\r\n            }}\r\n          >\r\n            submit\r\n          </button>\r\n        </form>\r\n        <ul>\r\n          {comments.map(({ user, date, body, _id }) => (\r\n            <li key={_id}>\r\n              <h5>{user}</h5> <div>{body}</div>\r\n              <div className=\"text-right\">{date}</div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </footer>\r\n    </section>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport Forum from \"./Forum\";\r\nimport Discussion from \"./Discussion\";\r\nimport { AppContext } from \"../../App\";\r\n\r\nexport default function ForumRouter({ history, location: { pathname } }) {\r\n  return (\r\n    <>\r\n      {pathname === \"/Forum\" && <Forum history={history} />}\r\n      <Switch>\r\n        <Route exact=\"*\" component={Discussion} />\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n","import React, { useMemo, useContext } from \"react\";\r\nimport { AppContext } from \"../App\";\r\nimport { toast } from \"react-toastify\";\r\nimport { sendRequest, signUp, error } from \"../store/actions\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport _ from \"lodash\";\r\nimport { apiUrl } from \"../config.json\";\r\n\r\nexport default function Sign({ location: { pathname }, history }) {\r\n  const { dispatch } = useContext(AppContext);\r\n  const [formikProp, Head] = useMemo(() => {\r\n    const page = pathname.slice(-2);\r\n    const isSingUp = page === \"up\";\r\n\r\n    return [\r\n      {\r\n        initialValues: {\r\n          ...(isSingUp && { name: \"\" }),\r\n          email: \"\",\r\n          password: \"\",\r\n        },\r\n        validationSchema: yup.object({\r\n          ...(isSingUp && {\r\n            name: yup.string().required(\"required\").label(\"Name\"),\r\n          }),\r\n          email: yup.string().required(\"required\").label(\"Email\"),\r\n          password: yup.string().required(\"required\").label(\"Password\"),\r\n        }),\r\n        onSubmit: (fields) => {\r\n          dispatch(sendRequest());\r\n          axios\r\n            .post(`${apiUrl}/sign/${page}`, fields)\r\n            .then(({ data: { name, token, massage } }) => {\r\n              toast(massage);\r\n              if (isSingUp) return history.push(\"/signin\");\r\n              console.log(token);\r\n              localStorage.setItem(\"token\", token);\r\n              localStorage.setItem(\"name\", name);\r\n              dispatch(signUp(name));\r\n              history.push(\"/Forum\");\r\n            })\r\n            .catch(({ response }) => {\r\n              toast.warning(response?.data ?? \"Unexpected error\");\r\n              dispatch(error());\r\n            });\r\n        },\r\n      },\r\n      () => <h3>Sign-{page}</h3>,\r\n    ];\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Head />\r\n      <Formik {...formikProp}>\r\n        <Form>\r\n          {_.keys(formikProp.initialValues).map((name) => (\r\n            <div key={name}>\r\n              <label htmlFor={name}>{_.upperFirst(name)}:</label>\r\n              <br />\r\n              <Field name={name} id={name} />\r\n              <br />\r\n              <ErrorMessage name={name} className=\"text-danger\">\r\n                {(err) => <div className=\"text-danger\">{err}</div>}\r\n              </ErrorMessage>\r\n            </div>\r\n          ))}\r\n          <br />\r\n          <button type=\"submit\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n        </Form>\r\n      </Formik>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { AppContext } from \"../App\";\r\nimport { logOut } from \"../store/actions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default function Logout() {\r\n  const { dispatch } = useContext(AppContext);\r\n  dispatch(logOut());\r\n  localStorage.removeItem(\"name\");\r\n  localStorage.removeItem(\"token\");\r\n  return <Redirect />;\r\n}\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nexport const initialState = {\r\n  loading: true,\r\n  name: localStorage.getItem(\"name\"),\r\n  forum: null,\r\n};\r\n\r\nexport const reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case \"SEND REQUEST\":\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case \"GET FORUM\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        forum: payload,\r\n      };\r\n    case \"SIGN UP\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        name: payload,\r\n      };\r\n    case \"LOG OUT\":\r\n      return {\r\n        ...state,\r\n        name: null\r\n      }\r\n    case \"ERROR\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    default:\r\n      throw new Error(`type ${type} invalide`);\r\n  }\r\n};\r\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { Switch, Route } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport NavBar from \"./component/Navbar\";\nimport About from \"./component/About\";\nimport ForumRouter from \"./component/Forum/_ForumRouter\";\nimport Sign from \"./component/Sing\";\nimport Logout from \"./component/Logout\";\nimport { apiUrl } from \"./config.json\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"jquery/dist/jquery\";\nimport \"popper.js/dist/popper\";\nimport \"bootstrap/dist/js/bootstrap\";\nimport \"./App.css\";\nimport { reducer, initialState } from \"./store/reducer\";\nimport { getForum, error } from \"./store/actions\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst AppContext = React.createContext({});\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    axios\n      .get(apiUrl)\n      .then(({ data }) => dispatch(getForum(data)))\n      .catch(() => dispatch(error()));\n  }, []);\n  const links = {\n    \"\": About,\n    Forum: ForumRouter,\n    ...(state.name ? { Logout } : { signin: Sign, signup: Sign }),\n  };\n  return (\n    <div className=\"App\">\n      <ToastContainer />\n      <header className=\"App-header\">\n        <NavBar links={_.keys(links)} />\n      </header>\n      <main>\n        <AppContext.Provider value={{ ...state, dispatch }}>\n          <Switch>\n            {_.map(links, (component, link) => (\n              <Route\n                key={link}\n                path={\"/\" + link}\n                exact={!link}\n                component={component}\n              />\n            ))}\n          </Switch>\n        </AppContext.Provider>\n      </main>\n    </div>\n  );\n}\n\nexport { AppContext };\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}